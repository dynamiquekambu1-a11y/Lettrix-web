{% extends "base.html" %}
{% block content %}

<div class="card p-4 mb-3">
  <h3 class="mb-3"><i class="bi bi-eye"></i> Preview â€“ Resignation Letter</h3>

  <style>
  .preview-box {
      width: 210mm;
      min-height: 297mm;
      padding: 20mm;
      background: #fff;
      color: #000;
      font-family: 'Times New Roman', serif;
      font-size: 12pt;
      box-shadow: 0 0 5px rgba(0,0,0,0.1);
      white-space: pre-wrap;
      overflow: auto;
  }
  </style>

  <pre class="preview-box">{{ generated_text }}</pre>

  <div class="mt-3 d-flex gap-2">
    <form method="post" action="{{ url_for('export_word_route') }}">
      <input type="hidden" name="generated_text" value="{{ generated_text }}">
      {% for k, v in fields.items() %}
        <input type="hidden" name="{{ k }}" value="{{ v }}">
      {% endfor %}
      <button class="btn btn-light"><i class="bi bi-file-earmark-word"></i> Export Word</button>
    </form>

    <form method="post" action="{{ url_for('export_pdf_route') }}">
      <input type="hidden" name="generated_text" value="{{ generated_text }}">
      {% for k, v in fields.items() %}
        <input type="hidden" name="{{ k }}" value="{{ v }}">
      {% endfor %}
      <button class="btn btn-light"><i class="bi bi-filetype-pdf"></i> Export PDF</button>
    </form>

    <a href="{{ url_for('index') }}" class="btn btn-secondary"><i class="bi bi-arrow-left"></i> Back</a>
  </div>
</div>
<div style="margin-top:40px; text-align:right; color:#FFD700; font-weight:bold;">
    Signature : _________________________
</div>

{% endblock %}
