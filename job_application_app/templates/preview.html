{% extends "base.html" %}
{% block content %}
<h2 class="mb-3">Preview Job Application Letter</h2>

<!-- PREVIEW ZONE -->
<div class="border p-3 mb-3" style="background-color:#111;">
    <pre>{{ generated_text }}</pre>
</div>

<!-- EXPORT WORD -->
<form method="POST" action="{{ url_for('export_word_route') }}">
    {% for key, value in fields.items() %}
        <input type="hidden" name="{{ key }}" value="{{ value }}">
    {% endfor %}
    <input type="hidden" name="generated_text" value="{{ generated_text }}">
    <button type="submit" class="btn btn-light">Export to Word</button>
</form>

<!-- EXPORT PDF -->
<form method="POST" action="{{ url_for('export_pdf_route') }}" class="mt-3">

    {% for key, value in fields.items() %}
        <input type="hidden" name="{{ key }}" value="{{ value }}">
    {% endfor %}

    <!-- Texte affichÃ© dans le formulaire mais non modifiable -->
    <textarea class="form-control mb-3" rows="15" readonly>{{ generated_text }}</textarea>

    <input type="hidden" name="generated_text" value="{{ generated_text }}">

    <button type="submit" class="btn btn-success">Export PDF</button>
</form>

{% endblock %}
